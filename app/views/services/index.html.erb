<div class="container">

    <div class="mb-3">
      <%= simple_form_for :query, url: services_path, method: "GET", html: {class: 'form-inline search-bar'} do |form|%>
        <div class="form">
          <%= form.input :speciality, label: 'Speciality', label: false, collection: ['Sports Nutritionism', 'Pediatric Nutritionist', 'Vegan Nutritionist', 'Keto Nutritionist',  'Oncology Nutritionist', 'Eating Disorder Nutritionist'], prompt: "Speciality" %>
        </div>
        <div class="form">
          <%= form.input :price, label: 'Price', label: false, collection: ['70', '90', '100', '120', '150'], prompt: "Price in USD"%>
        </div>
        <div class="form">
          <%= form.input :nationality, label: 'Nutritionist Nationality', label: false, collection: ['Argentinian', 'Spanish', 'French', 'Italian', 'Portuguese', 'Chinese'], prompt: "Nationality"%>
        </div>
        <div class="form">
          <%= form.input :language, label: 'Nutritionist Language', label: false, collection: ['Spanish', 'French', 'Italian', 'Portuguese', 'Mandarin Chinese'], prompt: "Language"%>
        </div>
        <div class="form">
          <%= form.submit "Find a nutritionist", class:"btn btn-booking" %>
        </div>
      <%end%> 
    </div>

  <div class="index-title">
    <div style="padding-top: 50px; padding-bottom: 50px">
      <h1 class= "row" style="font-size: 2rem; font-family: 'Nunito', 'Helvetica', 'sans-serif'; font-weight: 500; line-height: 0.5" > Available Services </h1>
      <h2 class= "row"  style="font-family: 'Otomanopee One', sans-serif; color: #0030ff">for you</h2>
    </div>

     
  <div class="cards" style="display: grid; grid-template-columns: 1fr 1fr 1fr; grid-gap: 16 px">
    <% @services.each do |service| %>
    <div class="card-service-container">
      <div class="card-product" style=" overflow: hidden;
      width: 350px;
      height: 520px;
      margin-bottom: 30px;
      background: white;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      padding: 50px 20px">
        <div class="card-content" style= "text-align: center">
          <div class="card-title" style= "height: 106px; padding: 25px 0;">
            <h5 style="font-size: 2rem; line-height: 1.2; padding: 15px"><strong><%= service.speciality %></strong></h5>
          </div>
          <div class="card-price" style= "height: 24px; padding: 15px 0">
            <h5 class="card-price">
              <strong>USD<%= service.price %></strong> / per consult
            </h5>
          </div>
          <div class="card-professional" style= "height: 267px">
            <p style="font-size: 1rem; font-family: 'Nunito', 'Helvetica', 'sans-serif'; font-weight: 500; line-height: 1.2;    padding-top: 5px;
            padding-bottom: 5px; padding-top: 20px"></p>
            <p>Professional name: <%= service.user.full_name %></p>
            <p>Nationality: <%= service.user.nationality %></p>
            <p>Language: <%= service.user.language %></p>
            <p>Contact: <%= service.user.email %></p>
            <p id="city">Office location: <%= service.location %></p>
            <% service.reviews.each do |review| %>
            <p><%= content_tag( :i, '', :class=>'fa fa-star', :style=>'color:
          #E7A142') * review.rating %></p>
            <% end %>
          </div>
          <div class="user-button" style="color: #0030FF; border-color: #0030FF; color: white; height: 63px">
            <h5 class="vtn card-title">
            <% if current_user.patient?%>
              <%= link_to 'Book Appointment', service_path(service), class:'btn btn-booking' %>
              <% end %>
            </h5>
            <div class="user-button-actions d-flex justify-content-center mb-5">
              <% if policy(service).edit? %> <%= link_to 'Edit',
              edit_service_path(service), class:'btn btn-booking' %> <% end %> <% if
              policy(service).destroy? %> <%= link_to 'Delete', service_path(service),
              method: :delete, data: { confirm: "Are you sure you want to
              delete this service?"}, class: 'btn btn-booking ml-3' %> <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
    <% end %>
  </div>
</div>

<style>
  .form{
    margin: 5px;
  }
  .search-bar{
      justify-content: center;
      }
  .btn-booking{
    background-color: #0030ff;
    color: white;
    }
  .btn-booking:hover {
    background-color: #3f61f7;
    color: white;
    }
  </style>